<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Oracle Java Demo Master java</title>
</head>
<body>
<h1>Oracle Java Example Master.java Code</h1>
<pre>package jportal.oracledemo;<br>import bbd.jportal.*;<br>import java.sql.*;<br>/**<br>* This table demonstrates the usage of Sequence, Timestamp and Userstamp<br>* it also demostrates a link or foreign key to Contacts based on contact<br>* This code was generated, do not modify it, modify it at source and regenerate it.<br>*/<br>public class Master<br>{<br>  Connector connector;<br>  Connection connection;<br>  /**<br>  * Unique sequence number (gaps allowed)<br>  */<br>  public int id;<br>  /**<br>  * Name of the master<br>  */<br>  public String name;<br>  /**<br>  * address lines (say street)<br>  */<br>  public String addr1;<br>  /**<br>  * address lines (say suburb)<br>  */<br>  public String addr2;<br>  /**<br>  * address lines (say town)<br>  */<br>  public String addr3;<br>  /**<br>  * phone numbers<br>  */<br>  public String phone;<br>  /**<br>  * foreign link to Contacts<br>  */<br>  public int contact;<br>  /**<br>  * Timestamp when done<br>  */<br>  public Timestamp whenDone;<br>  /**<br>  * Userstamp of who dunnit<br>  */<br>  public String whoDoneIt;<br>  /**<br>  * @param Connector for specific database<br>  */<br>  public Master(Connector connector)<br>  {<br>    this.connector = connector;<br>    connection = connector.connection;<br>    id = 0;<br>    name = "";<br>    addr1 = "";<br>    addr2 = "";<br>    addr3 = "";<br>    phone = "";<br>    contact = 0;<br>    whenDone = new Timestamp(0);<br>    whoDoneIt = "";<br>  }<br>  /**<br>  * Returns no output.<br>  * @exception SQLException is passed through<br>  */<br>  public void insert() throws SQLException<br>  {<br>    String statement = <br>      "insert into Master"<br>    + "( id"<br>    + ", name"<br>    + ", addr1"<br>    + ", addr2"<br>    + ", addr3"<br>    + ", phone"<br>    + ", contact"<br>    + ", whenDone"<br>    + ", whoDoneIt"<br>    + ") "<br>    + "values"<br>    + " (?"<br>    + ", ?"<br>    + ", ?"<br>    + ", ?"<br>    + ", ?"<br>    + ", ?"<br>    + ", ?"<br>    + ", ?"<br>    + ", ?"<br>    + ")"<br>    ;<br>    PreparedStatement prep = connection.prepareStatement(statement);<br>    id = connector.getSequence("Master");<br>    whenDone = connector.getTimestamp();<br>    whoDoneIt = connector.getUserstamp();<br>    prep.setInt(1, id);<br>    prep.setString(2, name);<br>    prep.setString(3, addr1);<br>    prep.setString(4, addr2);<br>    prep.setString(5, addr3);<br>    prep.setString(6, phone);<br>    prep.setInt(7, contact);<br>    prep.setTimestamp(8, whenDone);<br>    prep.setString(9, whoDoneIt);<br>    prep.executeUpdate();<br>    prep.close();<br>  }<br>  /**<br>  * Returns no records.<br>  * @param name input.<br>  * @param addr1 input.<br>  * @param addr2 input.<br>  * @param addr3 input.<br>  * @param phone input.<br>  * @param contact input.<br>  * @exception SQLException is passed through<br>  */<br>  public void insert(<br>    String name<br>  , String addr1<br>  , String addr2<br>  , String addr3<br>  , String phone<br>  , int contact<br>  ) throws SQLException<br>  {<br>    this.name = name;<br>    this.addr1 = addr1;<br>    this.addr2 = addr2;<br>    this.addr3 = addr3;<br>    this.phone = phone;<br>    this.contact = contact;<br>    insert();<br>  }<br>  /**<br>  * Returns no output.<br>  * @exception SQLException is passed through<br>  */<br>  public void update() throws SQLException<br>  {<br>    String statement = <br>      "update Master"<br>    + " set"<br>    + "  name = ?"<br>    + ", addr1 = ?"<br>    + ", addr2 = ?"<br>    + ", addr3 = ?"<br>    + ", phone = ?"<br>    + ", contact = ?"<br>    + ", whenDone = ?"<br>    + ", whoDoneIt = ?"<br>    + " where id = ?"<br>    ;<br>    PreparedStatement prep = connection.prepareStatement(statement);<br>    whenDone = connector.getTimestamp();<br>    whoDoneIt = connector.getUserstamp();<br>    prep.setString(1, name);<br>    prep.setString(2, addr1);<br>    prep.setString(3, addr2);<br>    prep.setString(4, addr3);<br>    prep.setString(5, phone);<br>    prep.setInt(6, contact);<br>    prep.setTimestamp(7, whenDone);<br>    prep.setString(8, whoDoneIt);<br>    prep.setInt(9, id);<br>    prep.executeUpdate();<br>    prep.close();<br>  }<br>  /**<br>  * Returns no records.<br>  * @param id key input.<br>  * @param name input.<br>  * @param addr1 input.<br>  * @param addr2 input.<br>  * @param addr3 input.<br>  * @param phone input.<br>  * @param contact input.<br>  * @exception SQLException is passed through<br>  */<br>  public void update(<br>    int id<br>  , String name<br>  , String addr1<br>  , String addr2<br>  , String addr3<br>  , String phone<br>  , int contact<br>  ) throws SQLException<br>  {<br>    this.name = name;<br>    this.addr1 = addr1;<br>    this.addr2 = addr2;<br>    this.addr3 = addr3;<br>    this.phone = phone;<br>    this.contact = contact;<br>    this.id = id;<br>    update();<br>  }<br>  /**<br>  * Returns at most one record.<br>  * @return true if a record is found<br>  * @exception SQLException is passed through<br>  */<br>  public boolean selectOne() throws SQLException<br>  {<br>    String statement = <br>      "select"<br>    + "  name"<br>    + ", addr1"<br>    + ", addr2"<br>    + ", addr3"<br>    + ", phone"<br>    + ", contact"<br>    + ", whenDone"<br>    + ", whoDoneIt"<br>    + " from Master"<br>    + " where id = ?"<br>    ;<br>    PreparedStatement prep = connection.prepareStatement(statement);<br>    prep.setInt(1, id);<br>    ResultSet result = prep.executeQuery();<br>    if (!result.next())<br>    {<br>      result.close();<br>      prep.close();<br>      return false;<br>    }<br>    name =  result.getString(1);<br>    addr1 =  result.getString(2);<br>    addr2 =  result.getString(3);<br>    addr3 =  result.getString(4);<br>    phone =  result.getString(5);<br>    contact =  result.getInt(6);<br>    whenDone =  result.getTimestamp(7);<br>    whoDoneIt =  result.getString(8);<br>    result.close();<br>    prep.close();<br>    return true;<br>  }<br>  /**<br>  * Returns at most one record.<br>  * @return true if a record is returned.<br>  * @param id key input.<br>  * @exception SQLException is passed through<br>  */<br>  public boolean selectOne(<br>    int id<br>  ) throws SQLException<br>  {<br>    this.id = id;<br>    return selectOne();<br>  }<br>  /**<br>  * Returns any number of records.<br>  * @return result set of records found<br>  * @exception SQLException is passed through<br>  */<br>  public Query selectAll() throws SQLException<br>  {<br>    String statement = <br>      "select"<br>    + "  id"<br>    + ", name"<br>    + ", addr1"<br>    + ", addr2"<br>    + ", addr3"<br>    + ", phone"<br>    + ", contact"<br>    + ", whenDone"<br>    + ", whoDoneIt"<br>    + " from Master"<br>    ;<br>    PreparedStatement prep = connection.prepareStatement(statement);<br>    ResultSet result = prep.executeQuery();<br>    Query query = new Query(prep, result);<br>    return query;<br>  }<br>  /**<br>  * Returns the next record in a result set.<br>  * @param result The result set for the query.<br>  * @return true while records are found.<br>  * @exception SQLException is passed through<br>  */<br>  public boolean selectAll(Query query) throws SQLException<br>  {<br>    if (!query.result.next())<br>    {<br>      query.close();<br>      return false;<br>    }<br>    ResultSet result = query.result;<br>    id =  result.getInt(1);<br>    name =  result.getString(2);<br>    addr1 =  result.getString(3);<br>    addr2 =  result.getString(4);<br>    addr3 =  result.getString(5);<br>    phone =  result.getString(6);<br>    contact =  result.getInt(7);<br>    whenDone =  result.getTimestamp(8);<br>    whoDoneIt =  result.getString(9);<br>    return true;<br>  }<br>  /**<br>  * class method as it has no input or output.<br>  * @exception SQLException is passed through<br>  */<br>  public static void deleteAll(Connector connector) throws SQLException<br>  {<br>    String statement = <br>      "delete from Master"<br>    ;<br>    PreparedStatement prep = connector.connection.prepareStatement(statement);<br>    prep.executeUpdate();<br>    prep.close();<br>  }<br>  /**<br>  */<br>  public class DeleteOne<br>  {<br>    /**<br>    * Unique sequence number (gaps allowed)<br>    * (input)<br>    */<br>    public int id;<br>    public DeleteOne()<br>    {<br>      id = 0;<br>    }<br>    /**<br>    * Returns no output.<br>    * @exception SQLException is passed through<br>    */<br>    public void run() throws SQLException<br>    {<br>      String statement = <br>      "delete from Master"<br>    + " where id = ?"<br>      ;<br>      PreparedStatement prep = connection.prepareStatement(statement);<br>      prep.setInt(1, id);<br>      prep.executeUpdate();<br>      prep.close();<br>    }<br>    /**<br>    * Returns no records.<br>    * @param id key input.<br>    * @exception SQLException is passed through<br>    */<br>    public void run(<br>      int id<br>    ) throws SQLException<br>    {<br>      this.id = id;<br>      run();<br>    }<br>  }<br>  public DeleteOne deleteOne()<br>  {<br>    return new DeleteOne();<br>  }<br>  /**<br>  */<br>  public class Count<br>  {<br>    /**<br>    * (output)<br>    */<br>    public int noOf;<br>    public Count()<br>    {<br>      noOf = 0;<br>    }<br>    /**<br>    * Returns at most one record.<br>    * @return true if a record is found<br>    * @exception SQLException is passed through<br>    */<br>    public boolean run() throws SQLException<br>    {<br>      String statement = <br>      "select count(*) noOf from Master"<br>      ;<br>      PreparedStatement prep = connection.prepareStatement(statement);<br>      ResultSet result = prep.executeQuery();<br>      if (!result.next())<br>      {<br>        result.close();<br>        prep.close();<br>        return false;<br>      }<br>      noOf =  result.getInt(1);<br>      result.close();<br>      prep.close();<br>      return true;<br>    }<br>  }<br>  public Count count()<br>  {<br>    return new Count();<br>  }<br>  /**<br>  */<br>  public class Exists<br>  {<br>    /**<br>    * Unique sequence number (gaps allowed)<br>    * (input)<br>    */<br>    public int id;<br>    /**<br>    * (output)<br>    */<br>    public int noOf;<br>    public Exists()<br>    {<br>      id = 0;<br>      noOf = 0;<br>    }<br>    /**<br>    * Returns at most one record.<br>    * @return true if a record is found<br>    * @exception SQLException is passed through<br>    */<br>    public boolean run() throws SQLException<br>    {<br>      String statement = <br>      "select count(*) noOf from Master"<br>    + " where id = ?"<br>      ;<br>      PreparedStatement prep = connection.prepareStatement(statement);<br>      prep.setInt(1, id);<br>      ResultSet result = prep.executeQuery();<br>      if (!result.next())<br>      {<br>        result.close();<br>        prep.close();<br>        return false;<br>      }<br>      noOf =  result.getInt(1);<br>      result.close();<br>      prep.close();<br>      return true;<br>    }<br>    /**<br>    * Returns at most one record.<br>    * @return true if a record is returned.<br>    * @param id key input.<br>    * @exception SQLException is passed through<br>    */<br>    public boolean run(<br>      int id<br>    ) throws SQLException<br>    {<br>      this.id = id;<br>      return run();<br>    }<br>  }<br>  public Exists exists()<br>  {<br>    return new Exists();<br>  }<br>}<br></pre>
</body>
</html>
